# TiDB

数据集成的基本要求与数据迁移完全相同，具体信息请参考[数据迁移说明](/udts/type/tidb)

## 迁移内容

数据集成当前只迁移 Database、Table 及其数据，不迁移视图(View)、函数(Function)、存储过程(Procedure)等其它内容。

## 功能说明

### 执行顺序
- 数据源按添加显示顺序排序，前面的任务优先执行。
- 当某一数据源的任务类型为全量任务时，只有该全量任务完成后才启动后续任务。

### 是否保留原数据
数据源配置中提供【是否保留目标库的原数据】选择项，默认为“是”。

- 如果保留默认“是”选择，新数据只会不断的添加到目标数据库中。 如果遇到冲突则按设定的冲突解决策略执行。
- 如果选择否，在任务开始之前会删除目标中对应的库表。如果设置了ETL， 则会删除ETL之后的库表。

### 数据冲突解决策略
数据源配置中提供【数据冲突解决方式】选择项， 用于选择数据发生冲突时所采取的处理方式。

- 如果选择替换，则会使用replace into对存在的数据进行替换
- 如果选择保留，则保留原有数据，忽略新数据。

### ETL
- 填写ETL信息时，如果勾选了数据库或者表，则必须填写映射名，如果不需要进行映射，可填写与数据源相同的库名/表名
- 填写ETL信息时，如果勾选了库，未选择表，则迁移该库下的所有表

## 功能限制
- 数据集成任务暂不支持DDL语句，因为DDL语句可能会改变目标数据库的表结构，破坏ETL功能。

## 操作说明
创建源库与目标库均为 TiDB 的数据集成任务时，目标库先选择TiDB，然后源库才可以在红框里选择TiDB。
![](http://udts-doc.cn-bj.ufileos.com/integration/createtidb.png)